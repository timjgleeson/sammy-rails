// -- Sammy.js -- /plugins/sammy.flash.js
// http://sammyjs.org
// Version: 0.7.4
// Built: 2013-01-27 13:34:12 -0500
(function(e){typeof define=="function"&&define.amd?define(["jquery","sammy"],e):(window.Sammy=window.Sammy||{}).Flash=e(window.jQuery,window.Sammy)})(function(e,t){return t.FlashHash=function(){this.now={}},e.extend(t.FlashHash.prototype,{toHTML:function(){var e=this._renderUL();return this.clear(),e},clear:function(){this._clearHash(this),this._clearHash(this.now)},_onRedirect:function(){this._clearHash(this.now)},_clearHash:function(e){var t;for(t in e)t!=="now"&&e.hasOwnProperty(t)&&delete e[t]},_renderUL:function(){return'<ul class="flash">'+this._renderLIs(this)+this._renderLIs(this.now)+"</ul>"},_renderLIs:function(e){var n="",r;for(r in e)e[r]&&r!=="now"&&e.hasOwnProperty(r)&&(n=n+'<li class="'+r+'">'+e[r]+"</li>");return t.log("rendered flash: "+n),n}}),t.Flash=function(e){e.flash=new t.FlashHash,e.helper("flash",function(e,t){return arguments.length===0?this.app.flash:(arguments.length===2&&(this.app.flash[e]=t),this.app.flash[e])}),e.helper("flashNow",function(e,t){return arguments.length===0?this.app.flash.now:(arguments.length===2&&(this.app.flash.now[e]=t),this.app.flash.now[e])}),e.bind("redirect",function(){this.app.flash._onRedirect()})},t.Flash});